---
import DashboardLayout from '@/components/layouts/DashboardLayout.astro';
import RouteGuard from '@/components/features/auth/RouteGuard';
import QueryProvider from '@/components/providers/QueryProvider';
import DashboardStats from '@/components/features/dashboard/DashboardStats';
import QuickActions from '@/components/features/dashboard/QuickActions';
---

<DashboardLayout title="Dashboard">
  <RouteGuard client:only="react">
    <QueryProvider client:only="react">
      <div class="space-y-6">
        <div class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
          <div>
            <h1 class="text-3xl font-bold tracking-tight">Dashboard</h1>
            <p class="text-muted-foreground">
              {new Date().toLocaleDateString('es-ES', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
              })}
            </p>
          </div>
        </div>

        <DashboardStats client:only="react" />

        <QuickActions client:only="react" />

        <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
          <div class="p-6">
            <h2 class="text-xl font-semibold tracking-tight mb-2">Bienvenido al Sistema Médico</h2>
            <p class="text-muted-foreground mb-6">
              Sistema de gestión de consultorios médicos. Utiliza el menú lateral para navegar entre las diferentes secciones.
            </p>
            <div class="grid gap-4 md:grid-cols-3">
              <div class="rounded-lg border bg-muted/50 p-4">
                <h3 class="font-semibold mb-2 flex items-center gap-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-muted-foreground"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                  Gestión de Pacientes
                </h3>
                <p class="text-sm text-muted-foreground">Registra, edita y consulta la información de tus pacientes.</p>
              </div>
              <div class="rounded-lg border bg-muted/50 p-4">
                <h3 class="font-semibold mb-2 flex items-center gap-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-muted-foreground"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>
                  Consultas Médicas
                </h3>
                <p class="text-sm text-muted-foreground">Gestiona consultas, diagnósticos y tratamientos.</p>
              </div>
              <div class="rounded-lg border bg-muted/50 p-4">
                <h3 class="font-semibold mb-2 flex items-center gap-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-muted-foreground"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                  Sala de Espera
                </h3>
                <p class="text-sm text-muted-foreground">Administra la cola de pacientes en tiempo real.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </QueryProvider>
  </RouteGuard>
</DashboardLayout>
